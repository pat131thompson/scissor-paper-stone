<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      console.log("Validating script loading");

      alert(
        "Let's play a game of Scissors, Paper, Stone!" +
          "\n" +
          "Highest score in five rounds wins!"
      );

      // Player choice
      let playerChoice;
      do {
        playerChoice = parseInt(
          prompt(
            "Enter your choice." +
              "\n" +
              "1 for Scissors" +
              "\n" +
              "2 for Paper" +
              "\n" +
              "3 for Stone:"
          )
        );
      } while (![1, 2, 3].includes(playerChoice) || isNaN(playerChoice));
      console.log("Player choice:", playerChoice);

      // UI for computer choosing...
      alert("The computer is choosing...");

      // Computer choice
      let computerChoice = Math.floor(Math.random() * 3) + 1;
      console.log("Computer choice:", computerChoice);

      // Convert choices to strings for display
      const choices = ["Scissors", "Paper", "Stone"];
      playerChoice = choices[playerChoice - 1];
      computerChoice = choices[computerChoice - 1];

      // Display choices
      alert(
        "The player chose: " +
          playerChoice +
          "\n" +
          "The Computer chose: " +
          computerChoice
      );

      let playerScore = 0;
      let computerScore = 0;
      let rounds = 0;
      console.log(
        "Initial Scores - Player:",
        playerScore,
        "Computer:",
        computerScore
      );
      console.log("Initial Rounds:", rounds);

      // Function to play the game
      /**
       * Plays the game for 5 rounds, comparing player and computer choices.
       * Updates scores and displays results after each round.
       */

      function playGame() {
        while (rounds < 5) {
          function playRound(playerChoice, computerChoice) {
            if (playerChoice === computerChoice) {
              alert("It's a tie!");
            } else if (
              (playerChoice === "Scissors" && computerChoice === "Paper") ||
              (playerChoice === "Paper" && computerChoice === "Stone") ||
              (playerChoice === "Stone" && computerChoice === "Scissors")
            ) {
              playerScore++;
              alert("The player wins!");
            } else {
              computerScore++;
              alert("The computer wins!");
            }
            alert(
              "Current Score:\nPlayer: " +
                playerScore +
                "\nComputer: " +
                computerScore
            );
          }
          playRound(playerChoice, computerChoice);
          rounds++;
        }
      }
      playGame();
    </script>
  </body>
</html>
